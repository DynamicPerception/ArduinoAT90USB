<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ArduinoLUFA Libraries: KeyboardHost Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ArduinoLUFA Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_keyboard_host.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">KeyboardHost Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_keyboard_host_8h_source.html">KeyboardHost.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for KeyboardHost:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_keyboard_host.png" usemap="#KeyboardHost_map" alt=""/>
  <map id="KeyboardHost_map" name="KeyboardHost_map">
<area href="class_arduino_l_u_f_a.html" alt="ArduinoLUFA" shape="rect" coords="0,0,92,24"/>
</map>
 </div></div>

<p><a href="class_keyboard_host-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1a92fd7e2654f20aae3685a93ae2c58e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_keyboard_host.html#a1a92fd7e2654f20aae3685a93ae2c58e">KeyboardHost</a> ()</td></tr>
<tr class="memitem:a8b375b5634259c8b7ae321edfeb6cab3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_keyboard_host.html#a8b375b5634259c8b7ae321edfeb6cab3">KeyboardHost</a> (<a class="el" href="_keyboard_host_8h.html#a85504eb5d789457862c7f00d7a3c13b4">KeyMapType</a> c_map)</td></tr>
<tr class="memitem:aa19f33b63ba7f2f5d5c842b35262d581"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_keys_pressed.html">KeysPressed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_keyboard_host.html#aa19f33b63ba7f2f5d5c842b35262d581">getKeys</a> ()</td></tr>
<tr class="memitem:a55ede577af980ac72c64700e1942368e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_keyboard_host.html#a55ede577af980ac72c64700e1942368e">mapping</a> (<a class="el" href="_keyboard_host_8h.html#a85504eb5d789457862c7f00d7a3c13b4">KeyMapType</a> p_map)</td></tr>
<tr class="memitem:a09645afbc65440e9172b7d9fc7dc982a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arduino_l_u_f_a.html#a09645afbc65440e9172b7d9fc7dc982a">error</a> (<a class="el" href="_arduino_l_u_f_a_8h.html#a9e36399399072c663d6113ff3c627aee">LUFAErr</a> p_err)</td></tr>
<tr class="memitem:a83a88fbd6f7c37a76e22672e8214f17a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_arduino_l_u_f_a_8h.html#a9e36399399072c663d6113ff3c627aee">LUFAErr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arduino_l_u_f_a.html#a83a88fbd6f7c37a76e22672e8214f17a">error</a> ()</td></tr>
<tr class="memitem:ac1500e0b3db677aa06a3b4bb8d943d75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arduino_l_u_f_a.html#ac1500e0b3db677aa06a3b4bb8d943d75">status</a> (<a class="el" href="_arduino_l_u_f_a_8h.html#a777b8cfb618d43a1f6e55c79bfcab3b8">LUFAStat</a> p_stat)</td></tr>
<tr class="memitem:ab0cd5817e51a3255a5b1fb16852426f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_arduino_l_u_f_a_8h.html#a777b8cfb618d43a1f6e55c79bfcab3b8">LUFAStat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arduino_l_u_f_a.html#ab0cd5817e51a3255a5b1fb16852426f4">status</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5288acbf71f84eb926d669b0bfffe2d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_arduino_l_u_f_a.html#a5288acbf71f84eb926d669b0bfffe2d0">init</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_keyboard_host.html">KeyboardHost</a> Class</p>
<p>This class provides high-level access to an attached keyboard device when used with a board that support OTG or USB Host mode. Based on the excellent keyboard host and LUFA code provided by Dean Camera.</p>
<p>This class is designed to be used within the Arduino IDE, using the AT90USB Arduino hardware extension, and can only be used with supported board types, including, but not limited to:</p>
<ul>
<li>
AT90USB647 </li>
<li>
<p class="startli">AT90USB1287</p>
<p>This library automatically handles mapping key codes to their ASCII representation, including applying any SHIFT-key modifiers. Additionally, you may connect or disconnect the keyboard at any time during operation with this library.</p>
<p>The user can press multiple keys at once, and if the user does, you will be able to read up to six of them at once.</p>
<p>As you can only have one instance of this class, and it is necessary for that instance to exist at the time this class is compiled, the KeyHost object will automatically be imported into your sketch when including this library. See the example below.</p>
<p>Example of Using this Library in an Arduino Sketch:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &quot;<a class="code" href="_arduino_l_u_f_a_8h.html" title="Core ArduinoLUFA Header File.">ArduinoLUFA.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor"> #include &quot;<a class="code" href="_keyboard_host_8h.html" title="Core KeyboardHost.h Header File.">KeyboardHost.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">void</span> setup() {</div>
<div class="line">    <a class="code" href="class_arduino_l_u_f_a.html#a5288acbf71f84eb926d669b0bfffe2d0">ArduinoLUFA::init</a>();</div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">void</span> loop() {</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="struct_keys_pressed.html">KeysPressed</a> keys = KeyHost.<a class="code" href="class_keyboard_host.html#aa19f33b63ba7f2f5d5c842b35262d581">getKeys</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( keys.<a class="code" href="struct_keys_pressed.html#a1407fc6737c4d2005e854a377b00c0b3">status</a> == STATUS_ERROR ) {</div>
<div class="line">        <span class="comment">// an error occurred trying to get the key</span></div>
<div class="line">        <span class="comment">// retrieve the error and do soemthing with</span></div>
<div class="line">        <span class="comment">// it.</span></div>
<div class="line">        </div>
<div class="line">        <a class="code" href="_arduino_l_u_f_a_8h.html#a9e36399399072c663d6113ff3c627aee">LUFAErr</a> errorCode = KeyHost.<a class="code" href="class_arduino_l_u_f_a.html#a09645afbc65440e9172b7d9fc7dc982a">error</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        </div>
<div class="line">            <span class="comment">// loop through all keys returned</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span>(byte i = 0; i &lt; 6; i++) {</div>
<div class="line">            <a class="code" href="struct_key_desc.html">KeyDesc</a> thisKey = keys.<a class="code" href="struct_keys_pressed.html#a624800bff854ce32c2aa8750e39f0e53">keys</a>[i];</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>( thisKey.<a class="code" href="struct_key_desc.html#a266cb480825c31deda021d5fa34e4379">value</a> != 0 ) {</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// key was recognized and an ascii value is </span></div>
<div class="line">                <span class="comment">// available -- do something with it</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"> }</div>
</div><!-- fragment --><dl class="section author"><dt>Author:</dt><dd>C. A. Church</dd></dl>
<dl class="section copyright"><dt>Copyright:</dt><dd>Copyright &copy; 2013 Dynamic Perception LLC, with large contributions from work Copyright &copy; 2012 Dean Camera </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="_keyboard_host_8h_source.html#l00267">267</a> of file <a class="el" href="_keyboard_host_8h_source.html">KeyboardHost.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1a92fd7e2654f20aae3685a93ae2c58e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KeyboardHost::KeyboardHost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor with Default Keymap</p>
<p>Create an instance of the class with a default keymap (MAP_US_English) </p>

<p>Definition at line <a class="el" href="_keyboard_host_8cpp_source.html#l00171">171</a> of file <a class="el" href="_keyboard_host_8cpp_source.html">KeyboardHost.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8b375b5634259c8b7ae321edfeb6cab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KeyboardHost::KeyboardHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_keyboard_host_8h.html#a85504eb5d789457862c7f00d7a3c13b4">KeyMapType</a>&#160;</td>
          <td class="paramname"><em>c_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Create an instance of the class with a specified keymap</p>
<p>c_map A Valid KeyMapType </p>

<p>Definition at line <a class="el" href="_keyboard_host_8cpp_source.html#l00183">183</a> of file <a class="el" href="_keyboard_host_8cpp_source.html">KeyboardHost.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a09645afbc65440e9172b7d9fc7dc982a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArduinoLUFA::error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_arduino_l_u_f_a_8h.html#a9e36399399072c663d6113ff3c627aee">LUFAErr</a>&#160;</td>
          <td class="paramname"><em>p_err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set Current Error</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_err</td><td>A valid LUFAErr value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_arduino_l_u_f_a_8cpp_source.html#l00033">33</a> of file <a class="el" href="_arduino_l_u_f_a_8cpp_source.html">ArduinoLUFA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a83a88fbd6f7c37a76e22672e8214f17a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_arduino_l_u_f_a_8h.html#a9e36399399072c663d6113ff3c627aee">LUFAErr</a> ArduinoLUFA::error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return Current Error Code</p>
<p>Returns a LUFAErr error code, ERROR_NONE if no error is registered.</p>
<dl class="section return"><dt>Returns:</dt><dd>A valid LUFAErr value </dd></dl>

<p>Definition at line <a class="el" href="_arduino_l_u_f_a_8cpp_source.html#l00046">46</a> of file <a class="el" href="_arduino_l_u_f_a_8cpp_source.html">ArduinoLUFA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa19f33b63ba7f2f5d5c842b35262d581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_keys_pressed.html">KeysPressed</a> KeyboardHost::getKeys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get The Current Keys Being Pressed</p>
<p>Returns a list of all pressed keys, and the status of the keyboard at the request time based on the underlying USB class driver.</p>
<p>The return value is a <a class="el" href="struct_keys_pressed.html">KeysPressed</a> structure, which will represent the (up to) 6 keys pressed by the user, along with any modifier. See <a class="el" href="struct_keys_pressed.html">KeysPressed</a> for more info on modifiers.</p>
<dl class="section return"><dt>Returns:</dt><dd>A <a class="el" href="struct_keys_pressed.html">KeysPressed</a> structure defining the keys pressed (or not) along with the status of the request </dd></dl>

<p>Definition at line <a class="el" href="_keyboard_host_8cpp_source.html#l00212">212</a> of file <a class="el" href="_keyboard_host_8cpp_source.html">KeyboardHost.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5288acbf71f84eb926d669b0bfffe2d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArduinoLUFA::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize USB Interface</p>
<p>Initializes the USB interface, must be done before attempting to utilize the USB interface in a host or device mode.</p>
<p>Our initialization options are simplified from what LUFA fully supports. If the device can be both a HOST or DEVICE, the mode is set to USB_MODE_UID, and otherwise the options are always set to USB_OPT_REG_DISABLED | USB_OPT_AUTO_PLL</p>
<p>This method is static, and can be called without an associated object.</p>
<p>This method only needs to be called once, during the setup of your sketch. </p>

<p>Definition at line <a class="el" href="_arduino_l_u_f_a_8cpp_source.html#l00085">85</a> of file <a class="el" href="_arduino_l_u_f_a_8cpp_source.html">ArduinoLUFA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a55ede577af980ac72c64700e1942368e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KeyboardHost::mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_keyboard_host_8h.html#a85504eb5d789457862c7f00d7a3c13b4">KeyMapType</a>&#160;</td>
          <td class="paramname"><em>p_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Keyboard Mapping</p>
<p>Specifies which supported keyboard mapping to use.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_map</td><td>A valid KeyMapType </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_keyboard_host_8cpp_source.html#l00195">195</a> of file <a class="el" href="_keyboard_host_8cpp_source.html">KeyboardHost.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac1500e0b3db677aa06a3b4bb8d943d75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArduinoLUFA::status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_arduino_l_u_f_a_8h.html#a777b8cfb618d43a1f6e55c79bfcab3b8">LUFAStat</a>&#160;</td>
          <td class="paramname"><em>p_stat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set Current Status</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_stat</td><td>A valid LUFAStat value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_arduino_l_u_f_a_8cpp_source.html#l00055">55</a> of file <a class="el" href="_arduino_l_u_f_a_8cpp_source.html">ArduinoLUFA.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab0cd5817e51a3255a5b1fb16852426f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_arduino_l_u_f_a_8h.html#a777b8cfb618d43a1f6e55c79bfcab3b8">LUFAStat</a> ArduinoLUFA::status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return Current Status</p>
<dl class="section return"><dt>Returns:</dt><dd>A valid LUFAStat value </dd></dl>

<p>Definition at line <a class="el" href="_arduino_l_u_f_a_8cpp_source.html#l00064">64</a> of file <a class="el" href="_arduino_l_u_f_a_8cpp_source.html">ArduinoLUFA.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/KeyboardHost/arch/avr/<a class="el" href="_keyboard_host_8h_source.html">KeyboardHost.h</a></li>
<li>libraries/KeyboardHost/arch/avr/<a class="el" href="_keyboard_host_8cpp_source.html">KeyboardHost.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_keyboard_host.html">KeyboardHost</a></li>
    <li class="footer">Generated on Wed Jun 12 2013 10:31:37 for ArduinoLUFA Libraries by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
